manifest {
    mainScript='piper.nf'
    description='RNA mapping pipeline'
}

process {
    container = 'cbcrg/piper-nf:peerj5515'
}

trace {
    enabled = true
    fields = 'task_id,hash,native_id,name,status,exit,submit,duration,realtime,%cpu,rss,vmem,peak_rss,peak_vmem,rchar,wchar,syscr,syscw,duration:num,realtime:num,rss:num,vmem:num,peak_rss:num,peak_vmem:num,rchar:num,wchar:num'
}

profiles {
    standard { 
        executor.queueSize = 10 
        params.query = 'data/query100.fa'
        params.genomesList = 'data/genomes/Anas_platyrhynchos.BGI_duck_1.0.73.dna_sm.fa,data/genomes/Anolis_carolinensis.AnoCar2.0.73.dna_sm.fa,data/genomes/Chrysemys_picta_bellii.ChrPicBel3.0.1.dna_rm.toplevel.fa,data/genomes/Ficedula_albicollis.FicAlb_1.4.73.dna_sm.fa,data/genomes/Gallus_gallus.Galgal4.73.dna_sm.fa,data/genomes/Meleagris_gallopavo.UMD2.73.dna_sm.fa,data/genomes/melobsittacus_undulatus_sm.fa,data/genomes/Pelodiscus_sinensis.PelSin_1.0.73.dna_sm.fa,data/genomes/Taeniopygia_guttata.taeGut3.2.4.73.dna_sm.fa'
    }

    s3data {
        params.query = 's3://cbcrg-eu/piper-chicken/query100.fa'
        params.genomesFile = 's3://cbcrg-eu/piper-chicken/genomes.txt'  
    }

    test { 
       params.query = "${baseDir}/tutorial/5_RNA_queries.fa"
       params.genomesFolder = "${baseDir}/tutorial/genomes/"
    }
} 
